# AUTO-GENERATED by .scripts/sync-tools.ts from home/claude/
# Do not edit directly. Run: deno task sync
description = "Resync Claude Code's understanding of the current working tree and git state after external changes"
prompt = """
## Purpose

The user has made changes to the working tree or git history outside of this conversation (e.g., manual commits, rebase, reset, file reorganization, branch switching). Claude Code's internal assumptions about file states, git history, and recent changes are now stale and must be refreshed.

**CRITICAL**: After running this command, discard ALL prior assumptions about:
- Which files are modified, staged, or untracked
- Recent commit history and messages
- Branch state and upstream tracking
- File contents that were previously read

## Workflow

1. **Scan git state** - Run `git status` (without -uall), `git log --oneline -10`, and `git branch -vv --list $(git branch --show-current)` to understand the current state
2. **Summarize changes** - Report to the user:
   - Current branch and tracking status
   - Working tree state (modified/staged/untracked files)
   - Recent commit history (last 10 commits)
   - Any notable differences from what was previously assumed (if applicable)
3. **Reset assumptions** - Explicitly acknowledge that all prior file-state and git-history assumptions are invalidated
4. **Ready** - Confirm to the user that the mental model has been refreshed and ask what they'd like to do next

## Output Format

Report the refreshed state concisely in this structure:

```
ğŸ“ Branch: {branch} â†’ {upstream}
ğŸ“‹ Working tree: {summary}
ğŸ“ Recent commits:
  {last 10 commits, one-line each}
âœ… Context refreshed. Prior assumptions invalidated.
```

## Begin

Run all scan commands in parallel, then summarize the refreshed state to the user.
"""
